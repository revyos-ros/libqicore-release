From b10132f94f97a0bbbe8bd9b8e954e330df2a84e9 Mon Sep 17 00:00:00 2001
From: Pandhariix <mbusy.pro@gmail.com>
Date: Mon, 16 Dec 2019 16:56:13 +0100
Subject: [PATCH 1/3] Update general CMakeLists for melodic compilation

---
 CMakeLists.txt | 16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 87a60d7..608aa5e 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,11 +1,21 @@
 ## Copyright (c) 2012 Aldebaran Robotics. All rights reserved.
 
 cmake_minimum_required(VERSION 2.8)
-project(LibQiCore)
-find_package(qibuild)
-qi_sanitize_compile_flags(HIDDEN_SYMBOLS)
+project(naoqi_libqicore)
+find_package(catkin REQUIRED naoqi_libqi)
+find_package(Boost)
+
+add_definitions(-DLIBQI_VERSION=${naoqi_libqi_VERSION_MAJOR}${naoqi_libqi_VERSION_MINOR})
+
+catkin_package(LIBRARIES qicore
+  INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/libqicore/
+  DEPENDS Boost
+)
 
 # Tests
 enable_testing()
 
 add_subdirectory("libqicore")
+
+# Install catkin package.xml
+install(FILES package.xml DESTINATION ${CATKIN_PACKAGE_SHARE_DESTINATION})
\ No newline at end of file
-- 
2.7.4

